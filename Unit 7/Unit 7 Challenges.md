
For this practical, you will write a perceptron algorithm from scratch. You
will initially need to understand how the perceptron algorithm works - so
read the Moodle workbook and lecture slides first. Some pseudocode is given here which are also
included in the lecture slides, however, you will still need to load a datafile,
extract features of your choice etc. (you learnt this in week 7). You can either
use the movie reviews dataset from the nltk (from nltk.corpus import
movie_reviews) or the dataset provided for your assignment.

Challenge 1:
Write an algorithm that creates a perceptron model:
1. Load training data
2. Extract features
3. Train the algorithm and update weights as appropriately.


```python
import random
import math
from nltk.corpus import movie_reviews
```


```python
reviews = [(list(movie_reviews.words(fileid)), category)
              for category in movie_reviews.categories()
              for fileid in movie_reviews.fileids(category)]
```


```python
words = []
for file_id in movie_reviews.fileids():
    review = movie_reviews.words(file_id)
    for word in review:
        words.append(word)
```


```python
all_features = list(set(words))
```


```python
start_weights = {word : random.uniform(-1, 1) for word in all_features}
```


```python
def create_features(review):
    return list(set([word for word in review]))
```


```python
def predict_one(weights, features):
    
    score = 0
    for feature in features:
        
        if feature in weights.keys():
            score += weights[feature]
    
    if score > 0:
        return 'pos'
    else:
        return 'neg'
```


```python
def update_weights(weights, features, actual_label):
    
    if actual_label == 'pos':
        change = 1
    else:
        change = -1
        
    for feature in features:
        
        if feature in weights.keys():
            weights[feature] += change
        
    return weights
```


```python
def train_perceptron(training_data, itterations):
    weights = start_weights
    
    for i in range(itterations):
        
        for review, actual_label in training_data:
            
            features = create_features(review)
            predicted_label = predict_one(weights, features)
            
            if predicted_label != actual_label:
                weights = update_weights(weights, features, actual_label)
    
    return weights
```


```python
trained_weights = train_perceptron(reviews, 5)
```


```python
trained_weights
```




    {'deschanel': -0.7608930089604422,
     'mussenden': 0.6034019839630889,
     'users': -0.5883061368455418,
     'julianne': -0.5723286694114382,
     'fonda': -1.7899223571478438,
     'ronnie': 0.1453059904913654,
     'numeric': 0.4774403484967178,
     'fitzgerald': 0.2774361750554484,
     'dement': -0.8578027721299697,
     'noise': 1.5160655142051294,
     'indicated': -0.49429632962820524,
     'rimmer': 0.3804581587808973,
     'victor': 0.14111367704159883,
     'perfs': 0.4263790047499556,
     'womens': -0.9746895994220177,
     'forgives': 1.226622189373,
     'signal': -0.5213813258108742,
     'ia': 0.9593986237960088,
     'overheated': 0.5248082496539999,
     'gratuitous': -2.0918627788669015,
     'lovable': -1.5399492630288367,
     'moronic': 1.0469227412428812,
     'lizzy': -0.8187731114100858,
     'dread': -0.7406624555815127,
     'condon': 0.23447601043637278,
     'mesmerize': -0.7761419684610609,
     'thermo': 0.9245001623821276,
     'relic': 0.13964620649725945,
     'hairs': -0.040862112791691274,
     'dominates': -0.8441417215260538,
     'neglected': 1.8038026384035015,
     'abolitionist': -0.37079214537233063,
     'reflection': -0.4930720569418734,
     'riffing': -0.9189652658467731,
     'dismisses': 0.618613202560599,
     'aborted': 0.5045188351506014,
     'broadsword': 0.1700221186216122,
     'willing': 4.449087992932105,
     'happened': -0.6374453874650179,
     'dismays': -0.2318417476257475,
     'bombard': 1.232811241945661,
     'noisily': -0.6899207881335936,
     'uno': -0.5767987248639921,
     'joanna': 0.5148672728894037,
     'manor': 0.8496786796012146,
     'farcical': 0.7929355287512156,
     'minbo': 0.7558482989935777,
     'weighing': 0.4232298009754254,
     'retardation': -0.6224644866318059,
     'hobo': 0.6318415616509154,
     'stocky': 0.8390333661433373,
     'intricate': -0.4450008488985795,
     'giggled': -0.05502475753270364,
     'remembering': 1.1529965708126797,
     'enraged': -0.7380909699578713,
     'flatlining': 0.8337513468000546,
     'familiarize': -0.1585077000398758,
     'consecutive': -0.23031916826210375,
     'absorbing': 0.8236881031705963,
     'rear': 0.19041472319330532,
     'meteoric': 1.7229526100668595,
     'herein': -0.3489629719175791,
     'veronica': 0.47779865111154085,
     'sammi': 0.5245931486075743,
     'malle': -0.8552808592012591,
     'nadja': 0.6392866452523314,
     'novak': -1.8047972745804863,
     'rebounding': -0.21787069914735824,
     'holograms': 0.6568737223684304,
     'paup': 0.22355294602645692,
     'yuji': 0.3016459190353358,
     'allen': 4.158265738920282,
     'proxy': 0.44927313650924505,
     'melora': 0.6991236198799151,
     'basinger': -0.05283246321750368,
     'alanis': -0.4653477921452682,
     'mccallum': -0.7620436181834589,
     'catering': -0.46007276303914524,
     'stupendously': 0.5175383236990785,
     'bouts': 0.7761019794241126,
     'bink': 0.8996856630528485,
     'pharmacy': -0.3467220039612806,
     'entertaining': 0.02783306676838393,
     'reversed': -1.0805554902318433,
     '_fifty_': 0.3879665197897715,
     'nenette': -0.7300901060152498,
     'beasts': 0.44432977791907446,
     'embezzlement': 0.9777679447348568,
     'purple': -0.5620216060752092,
     'salivate': -0.07599680186534763,
     'whereas': -0.8273066880955768,
     'kouf': 0.16449709493371611,
     'buddhist': 0.33042481141931157,
     '80': 1.3552197486610733,
     'welshman': -2.9838036387146225,
     'unisol': -0.18105206708471777,
     'told': 2.526405124717252,
     'braintree': 0.7025940479014028,
     '____________________________________________': 0.23748974204760098,
     'microcosm': -0.2123047529265054,
     'incident': 0.33073241032350076,
     'amphetamines': 0.23827473594696302,
     'elaboration': -0.4587726573907871,
     'reinterpretation': -0.3560553160952715,
     'schmoozy': -0.879114189004671,
     'nuptials': 0.6515713077104639,
     'pals': 0.21934014392908585,
     'hooked': -0.5834008000449393,
     'exemplary': 1.527942490893088,
     'receptacle': 1.8656454792271993,
     'either': -2.6397581016267213,
     'implanting': -0.3664699084001757,
     'garafolo': -0.5816070054369298,
     'pleasurable': 0.7061242400670289,
     'yawning': -1.1081122253554347,
     'happenning': -0.19583434099417474,
     'snitch': -0.4046212912316878,
     'ruber': -1.0775380609071736,
     'overachievement': 0.7990584600078696,
     'savant': 0.2696568567516475,
     'knucklehead': -0.5870984114947975,
     'concerning': 1.662145021998958,
     'arne': -0.15711823576407036,
     'aol': 0.8160177739546206,
     'dingy': -1.80291130912635,
     'wellington': 0.9519658500092998,
     'jailer': -0.23865252334045084,
     'scorpions': 1.8391266147258076,
     'billing': -1.5097354725921723,
     'smartmouths': 0.6010397885095748,
     'bicker': 0.4400371073966003,
     'tumultuosness': 0.8896314185821981,
     'generate': 0.21857442787996506,
     'clocks': 2.099370982768378,
     'marlboro': 0.8598167975366535,
     'aversion': -1.7692356392576822,
     'clam': 0.0587620015195458,
     'thirtysomething': 0.10516678884569819,
     'whereabouts': -0.22609736837845218,
     'fess': -0.18992260917125003,
     'body': -1.953956901259001,
     'meals': 0.9898671009679103,
     'mona': -0.8977742664226802,
     'noticable': 0.12446199332188757,
     'girls': -6.514053414914191,
     'tamala': 0.41119801973893844,
     'isuro': 0.6322036734764951,
     'potion': -0.3018995047991433,
     'respiratory': -0.13779860767329355,
     'coincided': -0.06692017229802527,
     'sacrament': -0.6413715386400827,
     'arrietty': 0.32322338007597007,
     'petrovsky': 0.2962106831287443,
     'chatham': -0.5171939174705455,
     'ap2': -0.6060371399561857,
     'automatons': -0.17670476285502357,
     'alienation': -1.1017659547291505,
     'feud': 0.9321828645098167,
     'identical': 2.181631807786243,
     'irrationality': 0.109326369755532,
     'saxophone': -0.02022457504042352,
     'pimlico': 0.02839977687610995,
     'monitored': -0.9758129113567193,
     'missiles': 1.009695196210565,
     'comaprison': -0.9703773905796775,
     'truant': -0.145957364371593,
     'unraveling': -1.089284155695799,
     'kohn': -0.27087132524043156,
     'splotty': 0.19159416636260773,
     'esteemed': -1.779464606798069,
     'excitiable': 0.6338983947244516,
     '8216': -0.11617269472409908,
     'exited': -0.13011372890658013,
     'wore': -0.031654923091311904,
     'unsavory': -0.6094214438659682,
     'trilogies': 0.4577451599998654,
     'curry': -0.23926629359076568,
     '1980s': -0.6289540539354057,
     'amiss': 0.04589097627840055,
     'murch': -0.8566309165496062,
     'alongside': -0.9245233026597273,
     'mirrors': -0.4834262265510427,
     'viable': 1.3069927636468877,
     'erect': -0.3736480977200243,
     'manmade': 0.06346827705375757,
     'moralistic': 0.4960001025375669,
     'arguement': -0.8418945942443508,
     'protests': 0.6304943357522179,
     'nephews': 0.00015336702531532076,
     'autographs': -0.676977454310695,
     'whiner': 0.8079519903626793,
     'extensively': 0.7513366049822201,
     'analyzes': 0.048501559820893325,
     'deepest': 0.4689429017021718,
     'mandible': 0.9233247214164297,
     'appalls': -1.841448016614925,
     'impregnated': -0.23526684588712032,
     'milestone': 1.925770932314628,
     'refer': 0.17430092932600472,
     'researching': 0.8419288482024629,
     'marijunana': 0.1540154897919308,
     'reclusion': -0.32348074170788066,
     'deviants': -1.141099840648613,
     'stung': -0.8339577235091986,
     'cappuccino': 0.30491307069978424,
     'healthy': -1.5756692397734509,
     'beleivable': 0.6533900127059842,
     'brecklin': -0.7296066019682477,
     'dann': 0.66075855157206,
     'boringly': -0.1552821832407627,
     'sinfully': 0.5486816862866499,
     'preface': 1.881935463795698,
     'trippier': -0.11362703794924656,
     'plumb': 0.055793399283914136,
     'beasley': -0.41180813339889455,
     'besson': 0.8430444256100569,
     'grittier': -1.5650312883165485,
     'torres': 0.267587844921511,
     'rubbell': -0.9795728598995996,
     'gurian': -0.40923415812099906,
     'alexis': -0.7195543300334948,
     'mailman': -0.08014560383300506,
     'holidays': 0.14009425390518837,
     'annabeth': 0.2929108989044815,
     'nntphub': -0.6477983043292397,
     'compress': -0.3435827501718962,
     'rooker': -0.37698043279843807,
     'decades': 4.041939434961521,
     'preist': 0.6618494259303582,
     'casts': -0.47804559321660856,
     'unknown': -1.5428074131977592,
     'hypothetically': -0.41591184419419114,
     'commiserate': 0.9365624410775573,
     'west': -0.6106078103559314,
     'engulfs': 0.4873579429253665,
     'stylishly': 1.5430817901291076,
     'antagonism': -0.9348197374293661,
     '1959': 0.6804229007202756,
     'shutting': 0.7370001589115198,
     'soulmate': 0.9386388108118393,
     'scriptwriters': -1.8116534517710803,
     'resume': 0.19505853942643925,
     'bondage': -0.06633145713468869,
     'nominally': 0.27034132410808787,
     'mamma': 0.13169399767963585,
     'huffing': -1.6419794767960296,
     'astaire': -0.49829815717518855,
     'clerical': 0.2603282061599279,
     'bennington': 0.791921288653807,
     'keating': -0.7304876558588698,
     'colour': 0.49202420152717874,
     'understatement': 0.7307673123450531,
     'alacrity': -0.42994354866436657,
     'recycled': -1.7970336489797238,
     'combining': -0.5423893582756196,
     'buckley': -0.13132471815386682,
     'cedars': 0.6106916247458665,
     'manipulate': -1.463255081670412,
     'leonowens': -0.3275277237969809,
     'balls': 0.8210200066256979,
     'reproduction': 0.4903004329800713,
     'intoning': 0.2754347790059801,
     'banks': 0.8314919749552161,
     'richness': -0.8915733218277293,
     'mallrats': -0.13002657842331566,
     'fix': 1.6628061045539826,
     'stink': -1.6369601509551674,
     'audre': 0.9177473617156822,
     'dench': 0.918695687414542,
     'wakeup': -0.8639544243683686,
     'profane': 0.6944251955541738,
     'nita': 0.9691575851101439,
     'stopover': -0.5977452081838579,
     'meanie': -1.509742749517945,
     'berman': 0.24525814243591992,
     'assembling': -0.1635080280558261,
     'stank': -0.8369702080353085,
     'stop': -0.391071037341125,
     'misspelling': 0.5979511700561215,
     'petrified': 0.43110594509363165,
     'cookies': 0.6359526284272334,
     'privileges': 1.4645208651103268,
     'dynamite': -2.3201538853336485,
     'javier': 0.5448593647828535,
     'swastikas': 0.903108665212238,
     'sugiyama': 0.5922185531064355,
     'loath': 0.6223208827449636,
     'contrivances': -2.607288774227473,
     'organized': 2.5923973948938697,
     'promoters': 0.6274646308580407,
     'tracy': 3.3854427140527124,
     'meatloaf': 0.6767413192376595,
     'nell': -0.8011625719739144,
     'buckaroo': -0.28739120991787326,
     'hanover': 0.4115022426631165,
     'mucked': -0.1198246283437241,
     'candyman': 0.7665667926817021,
     'removed': -1.7341058714726405,
     'bradshaw': 0.48618091126047225,
     'warp': -0.044095080365437855,
     'deplorable': -0.6617115365107364,
     'oddballs': -0.6716360815101063,
     'cambridge': -0.9882935184835693,
     'flik': -0.12078371397810184,
     'interrupting': -0.3388229138816963,
     'evasively': -0.8682248459727162,
     'frosted': 0.17014228898089812,
     'yankees': 0.3779112635992581,
     'toyed': 0.8796394473797888,
     'baigelman': -0.04490665297489116,
     'worrying': -1.4086087034769563,
     'kim': 0.41678125699958013,
     'specter': -1.503853374545069,
     'puppies': -1.4773841279455275,
     'mosques': 0.3198809919595089,
     'profession': 0.5426547665368975,
     'stumbling': 1.0288372521678393,
     'fobbed': -0.033396427312657684,
     'bobcat': -0.48136040000070834,
     'sherilyn': 0.8598454658413761,
     'pledging': 0.8345775479238213,
     'outlook': -0.016195377126589694,
     'fucnniest': 1.662764376376536,
     'thieve': -0.032335307616836895,
     'other': 0.006533322418570631,
     'reporting': -0.07546977104754604,
     'zwigoff': -0.561760826474857,
     'shies': -0.9919306902188101,
     'orgies': 0.9571645445639438,
     'vii': 0.4794508522673633,
     'ostensible': 0.43749296577845365,
     'detachment': 0.32806245483296537,
     'summing': 0.012971703141659408,
     'physique': 0.9897037870419645,
     'ingrains': -0.5035948243336752,
     'saturn': -0.6979681571683245,
     'opportunities': -2.2039501891157416,
     'reclining': 0.5374374638409216,
     'complains': -1.9206072055917989,
     'lifeforce': 0.3382751045339827,
     'outlaws': -0.8496700711546499,
     'wookie': 0.2865540708985115,
     'unwieldy': 0.13196442342935466,
     'finn': 0.5964913588263068,
     'promote': -0.4609602288853689,
     'zophres': 0.9727374334517762,
     'snappiness': 0.5767362496666246,
     'stirrings': -0.5645188025115333,
     'arts': 1.3845233745732504,
     'conventions': -0.8394238900140241,
     'cool': -6.6404039700224935,
     'rays': 0.45421093039382976,
     'fenster': 0.19196070352873806,
     'unnoticeably': 0.7905809412352676,
     'aspirins': -0.43471076986262736,
     'genders': -0.5390495581986166,
     'proposing': -0.13988640671253316,
     'lebesco': -0.1881372181672203,
     'erbe': -0.5009332714680081,
     'raleigh': -1.0622654162088616,
     'gardener': 0.8663837423766843,
     'baser': -0.94540085186234,
     'ritualistic': -0.4387144899187454,
     'cazale': -0.34431265404484024,
     'cleanest': 0.4794639583675342,
     'meshes': 0.5096960494960772,
     'oppressors': -0.8871335427910993,
     'urging': -0.8416796208220145,
     'trivialised': 0.85904600400373,
     'inseminates': -0.8602202714094727,
     'spera': 0.8146428967683959,
     'hotter': -0.8417502363331006,
     'wrongly': -0.42084941967287226,
     'hospital': 4.754847397085201,
     'musical': 1.0033822836763746,
     'honsou': 0.18248202643719158,
     'terrorizes': 0.8838337793043463,
     'amplifying': -0.6625595249991421,
     'faye': 0.15956746175650038,
     'forever': 0.014634999470102938,
     'alison': -0.03266929780254313,
     'anecdote': 1.797947013923425,
     'dilutes': -0.47032449350654204,
     'yoda': -0.35851263722954574,
     'rat': 0.11572173396088292,
     'proceeds': 0.2779441469235939,
     'lambert': -0.9026268838490688,
     'munsters': -0.9514837194416577,
     'intrepid': -0.6479281925200868,
     'tension': 3.909661503685446,
     'monthly': -0.1228570713004633,
     'sync': 0.3292591541449077,
     'liquefied': 0.3248994822193796,
     'delineation': 0.14408738063914428,
     'sitcomish': -0.04293474991148938,
     'chittering': -0.6540732352445529,
     'fit': -0.5401803092936641,
     'notch': -0.955421040718643,
     'acerbity': -0.16435687118034847,
     'subliminal': 0.45883485657729195,
     'sw4': -0.8028784439023222,
     'mattered': 0.24409517055151286,
     'verdant': 0.1245144121299051,
     'chad': 0.12715790390838166,
     'plotholes': 0.5001962411694258,
     'leak': -1.451060036328055,
     'comedy': -3.84932240934772,
     'hendren': 0.6089426186484315,
     'halle': 0.4073337309223859,
     'mutations': -0.9250394173512466,
     'mothballs': 0.015864558708238663,
     'september': -1.2845320689081394,
     'dispite': -0.9120337386584283,
     'hallucination': -0.9409173963779054,
     'competent': -0.9588143210810693,
     'curmudgeonly': -0.052947872417465236,
     'poledouris': -0.8606434069116531,
     'auditor': -0.8036718123337931,
     'whistle': 0.7081050107743931,
     'mount': 2.1086126706181387,
     'streamed': 0.609019367153615,
     'hitchhikes': 0.5873469718886324,
     'rotary': 0.749177058314926,
     'tongue': 0.684509638652131,
     'denton': 0.6025632013782789,
     'maura': 0.9047217567911396,
     'penny': -1.459595367440923,
     'sniggering': -0.45721210274194934,
     'sprouse': 0.23309596540484034,
     'recent': -2.590322477536206,
     'stifles': -1.7765597225986745,
     'war_': -0.9012505708896759,
     'sleepwalking': 0.43903067068662605,
     'moguls': -0.3453658118893588,
     'armand': 0.41749751000349056,
     'exasperated': 1.6359717346886562,
     'videocameras': 0.2096401209533829,
     'understand': 2.161640056405422,
     'represented': 0.7987653456747255,
     'vicious': 0.5055922081136868,
     'sleazeball': 0.42761156235089315,
     'brained': -0.23868196218885562,
     'helix': -0.5487895335750819,
     'competitor': 0.67100025960336,
     'affability': -0.6374517724536197,
     'augusts': 0.8493050661394825,
     'worshiper': -0.3098079872733306,
     'cheri': -0.45836660417152375,
     'cornfield': -0.9528289726739265,
     'lil': -0.8662464471019524,
     'arquettes': -0.8433916347440293,
     '_matewan_': 1.660582344808547,
     'balrogs': 0.8355553682684689,
     'barstool': 0.5843707356346366,
     'seizure': 0.6022306596865963,
     'service': -1.0802263870553692,
     'takeshi': 0.4452426074534266,
     'do': 7.48567410063046,
     'molly': 0.05364044678216917,
     'worm': -0.6959249145332038,
     'oxide': 0.6486620968697134,
     'teeter': 0.8676749406504409,
     'origin': -2.3119902245692394,
     'cahoots': -0.5544039893480024,
     'betsy': 0.7788627705325377,
     'forms': 0.4510987524652388,
     'nolan': -0.4171741549217314,
     'dire': -0.1491918781908539,
     'bonk': 0.1543762744313093,
     'entei': -0.5804408614182255,
     'fracturing': -0.172544681216644,
     'langlet': 0.1951895295294186,
     'sensationalist': -0.9773704745944101,
     'suffrage': 0.8009439045349824,
     'humvee': 0.63849680245073,
     'perverted': -0.5840168962751433,
     'parlor': 0.032761386346589205,
     'verduzco': -0.2729923948871915,
     'pining': -0.10387837503210928,
     'giddiness': 0.6075028731803629,
     'rejuvenated': 0.7016035999006436,
     'julian': -0.07230235845525246,
     'renee': -0.3869893873597845,
     'withdrew': 0.5153947726154151,
     'dissembles': -0.864289701818421,
     'graciela': -0.0025581543112660476,
     'stump': -0.23052981976996922,
     'braugher': 0.6451920010640328,
     'indicting': -0.9016001354655243,
     'reviewers': -0.49951983271520795,
     'pity': 0.20378087979215276,
     'agitated': 0.2103107930820085,
     'straightens': 0.07628483168633493,
     'tribe': -0.7307352490590142,
     'crewman': -0.23994137269208382,
     'fascistic': -0.7519689356724322,
     'promise': 0.915355826898667,
     'outfielders': -0.9982584941899499,
     'katsulas': -0.6987368460847676,
     'roselyn': -0.7104260350249123,
     'rhetorically': -0.7140226005229227,
     'material': -0.47797110248773444,
     'rut': -0.9472284848857411,
     'tardio': 0.5373075052836833,
     '1996': -0.33868005962572223,
     'abigail': -0.9826255335610072,
     'sickeningly': -0.6686224748690708,
     'nookey': -0.12666639517501155,
     'convent': -0.9661951977821857,
     'mobilizes': -0.05974567340731074,
     'actress': -1.7439930701722623,
     'restoring': 0.508066857719017,
     'swap': 0.806509531447158,
     'caddies': 0.29201642634665603,
     'bureaucrats': 0.5441364491721479,
     'apoplectic': -0.2016601011380832,
     'unequivocal': 0.39946929439613044,
     'abounded': -0.7441939933581796,
     'conservatism': -0.24482461560359003,
     'successor': -0.04724681491251426,
     'incompetents': -0.33840364218154084,
     'temptations': -2.445107529465048,
     'kept': -0.8360075297341654,
     'sexiest': -0.7100979578503679,
     'squaresoft': 0.2434376214714702,
     'tatoo': -0.9917147148447871,
     'biziou': -0.13937797349643777,
     'imply': 0.977730447264002,
     'organism': 0.08629950545112552,
     'invariably': -0.3662983364064314,
     'evoke': 0.05524607794499148,
     'gila': 0.6751522781396879,
     'promotional': -0.44571016643675443,
     'fondle': -0.6447223894466148,
     'inconsistent': -0.6568896290033395,
     'mabe': 0.3546496663272103,
     'athos': -0.5715763808993717,
     'replica': 0.1200226144501455,
     'sartain': -0.8060358580615294,
     'doubting': -0.007476017463143636,
     'errands': 1.273802177578204,
     'sophie': 0.7851359869750469,
     'psyche': -0.8949164432349781,
     'demoralised': 0.6735756094183527,
     'dealt': 0.49305140897647637,
     'cadavers': 0.1504203480984614,
     'confession': -1.3838357870321045,
     'nightmarishly': -0.3643208402429057,
     'conisderation': -0.8129495325706106,
     'bulge': 1.6298844670847445,
     'payer': -0.6843671415307593,
     'ahab': 1.6988751113838874,
     'facts': 0.2615683945769862,
     'cystic': 0.31964842556479,
     'assigning': -0.36476946997817805,
     'illuminate': -0.6747871798749252,
     'sydni': -0.3264155538017097,
     'unwittingly': -0.7315168693303713,
     'harsh': 0.11041815073024508,
     'mused': 0.420464504074461,
     'gynecomastia': -0.5062957648574402,
     'feasting': -0.5476871576274156,
     'getter': 0.6327437586624884,
     'photocopied': -0.7238881344175376,
     'machinegun': -0.603934593074607,
     'unexciting': -0.0857979398901747,
     'feverishly': -0.788484154045276,
     'bartellemeo': -0.5734642190473551,
     'swans': 0.7867177373599354,
     'rustic': -0.281975424747577,
     'regurgitates': -0.7805868212863143,
     'gustav': 0.021120514765715415,
     'aftermath': -0.6153559930993131,
     'rafael': 1.9758717532989956,
     'rebellions': 1.8524092719995329,
     'candlelight': -0.005403468887962726,
     'assemble': -0.8909124110997879,
     'followed': 1.7809641701486765,
     'fucks': 0.9703262127501255,
     'committing': 0.3230119946732053,
     'brightens': -0.6972417492955232,
     'maneuver': 0.6700063175472049,
     'thee': -0.08598136289918212,
     'butabi': 0.6257248744566302,
     'edouard': 0.3371090269444099,
     'beguiling': -0.7735190783936436,
     'cavernous': -0.488485669867488,
     'salami': -0.44482251988156163,
     'expressionless': -0.23612787618116382,
     'gramophone': -0.8794046228909784,
     'compares': -0.7220930451407821,
     'yonezo': 0.37316415501888045,
     'unenergetically': -0.5748245660461815,
     'tarantino': 3.0756980020965154,
     'guinea': -0.4822486061184652,
     'bug': -1.8802306954802077,
     'latitude': 0.6016286221911726,
     'theatre': 1.329558797721149,
     'locks': 0.7839003377328522,
     'butch': -0.7684134318422722,
     'suprising': -0.9846174557325953,
     'etchings': 0.44182195065109475,
     'defeatist': 0.019785735616100197,
     'flaw': -1.1646112812393614,
     'utterances': -0.5572811926671193,
     'landowners': -0.4371917307970199,
     'appellation': -0.31147747007422977,
     'pleases': -0.033487555783468625,
     'categorize': -0.2443354473295396,
     'lesbo': 0.8674301022022293,
     'riches': 0.06566546042908894,
     'phosphorus': -0.07549819469024399,
     'intrigue': 0.3406208596928091,
     'comradeship': -0.4521832153080876,
     'aura': 0.7022947495975458,
     'bullworths': -0.780884861929191,
     'breezes': 0.20951568848825475,
     'bastardizations': -0.9280589522152771,
     'supermodels': -0.759440821333436,
     'normalcy': 1.5035827676516096,
     'shui': -0.7343444788784479,
     'tasting': 0.26954967186240153,
     'across': 3.2285672397624,
     'borrr': 0.009045593887960557,
     'brutality': 0.40500330304431054,
     'tribute': 2.034800756556103,
     'touching': -1.808366358825085,
     'sells': -0.8559966571549045,
     'corsucant': 0.14865454326670435,
     'enthusing': -0.9886139230783866,
     'aunts': -0.8683691229588126,
     'latura': -0.9287124980010724,
     'secured': 0.09355314846025764,
     'tweaks': -0.05298791017394411,
     'yost': 0.6997060985529775,
     'snarl': 0.9164710219638204,
     'masochism': 0.0467591616002081,
     'jamahl': 0.9799970860918104,
     'vacances': -0.1701965127991829,
     'slake': -0.27874798175916626,
     'slurring': 0.1282026735500459,
     'larroquette': -0.4626094853705569,
     'smacked': 0.39625091330381235,
     'madly': -0.8317751524029899,
     'turbulent': 0.9205175074130578,
     'snickers': -0.08914910454533609,
     'bernt': -1.257131975561956,
     'impossibilities': -0.4432561248360454,
     'ified': 0.0600798671160232,
     'accepted': 1.25234991987847,
     'appropriately': -1.8994133992589033,
     'wolves': 0.7360794745331629,
     'spades': 0.5353280779120211,
     'richest': 0.4234348651538322,
     'proper': 1.3344032786098774,
     'fecal': -0.8484596437918142,
     'zemeckis': -0.6916030708780176,
     'friction': -0.991131419351521,
     'solve': 0.27785337009463174,
     'boon': 0.9803271168718919,
     'simulating': -0.40485731328008323,
     'loews': -0.4479545246379708,
     'misinterpreted': -0.6153040419195095,
     'restricting': -0.03524574237557099,
     'issue': -1.1264056759004215,
     'weighed': 0.860105321536369,
     'leno': -0.08130749914909052,
     'toll': -0.13979634860156964,
     'indians': 1.798925717830241,
     'coinciding': 0.18087196150202423,
     'surprisinly': 0.6736156035817913,
     'duo': -0.7676673693247389,
     'retinal': -0.9065725761071972,
     'exiting': 0.729536321140148,
     'killed': -4.434208197123231,
     'khan': 0.7442366868990999,
     'exec': 1.3836282831597047,
     'codas': 0.6874108988258745,
     'quickie': -0.29562357947443996,
     'foam': -0.24945608037769307,
     'recurs': -0.6074007392175664,
     'huff': -0.22895950440112345,
     'perfected': 0.6472839082091093,
     'joanne': -0.260889246588228,
     'pursuer': 0.6864770693342941,
     'artistical': 0.372935873457348,
     'lockup': 0.3632639620102094,
     'boddy': -0.07906593535120243,
     'venality': 0.3886551749788232,
     'monoko': -0.0905991915586406,
     'cottrell': -0.29728802063758386,
     'against': 7.041536034533028,
     'englishmen': 0.9793465095914797,
     'propositions': -0.44770015304266364,
     'preserved': 0.75195097586814,
     'seamlessly': 0.9443400538024986,
     'convicted': -0.2073359314315888,
     'vexatiousness': -0.6128714603922905,
     'likelihood': -0.4298156275538041,
     'winston': -3.2600091171160015,
     'disorienting': -0.5306490821015093,
     'alread': 0.011700097658317699,
     'beek': -0.4870686948305616,
     'kkk': -0.0384061920304366,
     'jacqeline': -0.9273300188537399,
     'sunshine': 0.749288904963096,
     'preparation': 0.38869170889989957,
     'icky': -0.2476583670344148,
     'dane': -0.05398100769069236,
     'xref': 0.6333676911281314,
     'eviscerated': 0.04015697695718856,
     'sincere': 1.259865397694924,
     'graziella': 0.8728756749677771,
     'trumping': -0.8125894002104226,
     'idealism': 0.2534926846552805,
     'challenger': -0.48062278261693137,
     'groundbreaking': -0.11149864499603601,
     'beckon': -0.6808815719168348,
     'pzoniaks': -0.6350833187934031,
     'wanton': -0.48178702941142837,
     'ignoramus': -0.469040688530703,
     'grenade': 0.3512100147982251,
     'zimmer': 0.46602142215104303,
     'pornographer': -0.8655673874331122,
     'jeanine': -0.8798785079926841,
     'month': -1.4537202825788533,
     'psych': 0.9446797249447132,
     'recouped': 0.07250427928789915,
     'admire': -0.29742447372006486,
     'romping': 0.5672919869244994,
     'swindling': -0.5553565119583022,
     'forewarned': 0.23015381719167594,
     'trashily': -0.8800214073007318,
     'party': -0.9666728713935004,
     'hammerstein': 0.13658618325520644,
     'gifted': -0.09077980736226077,
     'lipped': 0.5112273115247312,
     'sen': 0.1907850288579016,
     'celebrated': 0.6480144333733886,
     'dialog': -1.6587878457442478,
     'craters': -0.5017501760000915,
     'muff': 0.20131729662745657,
     'girlfriend': 0.9065147863217304,
     'galpal': 1.7984752960647503,
     'schoolboy': -0.4030571080829277,
     '_can': 0.8538616931820342,
     'meteor': 0.27240257428636494,
     'deadbeat': 0.6486296196946215,
     'elmer': 0.9798358862994392,
     'workmates': 0.6338312625677762,
     'upon': 2.8779754372269286,
     'shootouts': -1.3955950168683198,
     'contention': 0.7923939591929965,
     'darth': 1.0257271037542208,
     'gags': 1.9152252256287978,
     'einstein': -0.084048043503826,
     'feces': -0.5920097179736064,
     'regicide': -0.24962270288203947,
     'grandfather': -0.2754811916694182,
     'amon': 0.1146509316937745,
     'aronofsky': 0.2775886269509775,
     'soles': 0.2687610706232548,
     'providing': -0.14193171549747552,
     'kinka': -0.14642992794854637,
     'roads': 1.7546953126502405,
     'gismos': -0.7477364686721526,
     'alyson': 0.13043163895558796,
     'alotta': -0.1896405157022354,
     'interminable': -0.5052205741937548,
     'stacey': 0.8227987013462483,
     'dreamt': -0.5006843061011748,
     'lesbian': 0.427656759489776,
     'skateboarders': 0.14919938914300412,
     'invade': 0.5327835996890791,
     'stricken': 1.3774221944029317,
     'meaner': -0.9479031413276426,
     'vegans': 0.9128624428642602,
     'depend': -0.7223527628630921,
     'finley': 0.6568632650210613,
     'zorro': -0.755144309124482,
     'zombie': -3.512034814730468,
     'quoting': -0.7815897125178459,
     'thirteenth': 1.2051735509557722,
     'tremendously': 0.32491053741770637,
     'debacles': -0.47074657966237354,
     'snidely': -0.6678373573237855,
     'juzo': -0.8973082288832515,
     'baldly': 0.7621149580583522,
     'bernie': -0.41121974403935346,
     'waynes': 0.0878127027776685,
     'gullette': 0.972000343442813,
     'pouting': -0.28415452889943493,
     'pefect': -0.9722547088612226,
     'means': 6.8628765674306935,
     'draco': -0.02079938198392295,
     'disintegrating': 0.5021740188427877,
     'stepahne': 0.8967832771904225,
     'peculiarly': -0.41756773419682935,
     'assurance': 0.7885529838450316,
     'anatomically': 0.2553178164286085,
     'terra': 0.3580925076506696,
     'says': 1.060657337537931,
     'vanishing': -0.9738156839394816,
     'cheapest': -0.985905026041112,
     'discard': -0.11636168210988451,
     'descended': 0.6521007208597203,
     'relativity': -1.0897303444916366,
     'vignette': -0.06639458232490125,
     'unquestioned': -0.439878476733258,
     'operates': 0.8186134326128227,
     'dussollier': -0.42041963202713606,
     'irritating': 0.5572378571842225,
     'bawdy': -0.9195496272321624,
     'armi': -0.08655810913884832,
     'scrapbook': 0.8328632077902893,
     'averse': -0.9268158869752507,
     'robbery': 1.0800086222637502,
     'slumber': 0.9695703815055596,
     'suspended': 0.06353096975072492,
     'opaque': -0.6343118352327577,
     'merrier': -0.7200750780860494,
     'sluttier': -0.14463842410601924,
     'prop': 0.11641837393912491,
     'pachinko': 0.015489197957023748,
     'debut': -3.5612007493275346,
     '=': -1.554929788169491,
     'latches': -0.4000363367891462,
     'sewer': 0.37640966962475897,
     'isaiah': -0.7027599593609022,
     'stormtroopers': 0.553047195883815,
     '65th': 0.0284846535345884,
     'randanzo': -0.03785981442215047,
     'desolation': -2.223252557444855,
     'zhivago': -0.08704036575501295,
     'tingwell': 0.4060368053985395,
     'facinelli': -0.07280205232351133,
     'casino': -2.254490442632582,
     'abraded': 0.4426359388917456,
     'colossal': 0.9478918485666437,
     'inmates': -0.40774288146243953,
     'statesman': 0.34946214846576074,
     'accepts': 0.8234972995057346,
     'traps': -0.9680336282805195,
     'threatens': 0.9915354494614839,
     'tyrone': -0.24723054338668593,
     'chung': -0.6295406992940233,
     'waxen': 0.2411420634110557,
     'mail': 2.1541988941459964,
     'planning': -0.9123587851692541,
     'impersonate': -0.17869036390437576,
     'novo': -0.5867072448469552,
     'nickelodeon': -0.4116631497323233,
     'appalachian': 0.1474509768629524,
     'dellaplane': 0.7962468521067665,
     'bedridden': -0.46940844563318884,
     'devastation': -0.7867694884125587,
     'salonga': 0.2775579223976625,
     'w': -0.9242428074087232,
     'lhermitte': -0.42407219721258116,
     'widens': 0.8299374216467945,
     'strenuous': -0.2871970990147763,
     'samba': -0.6841295768165343,
     'visibly': 0.25656771231812314,
     'mie': 0.507424590800867,
     'winded': -0.6043829007988517,
     'frosting': 0.17152904136656777,
     'bigots': 1.0831137743668202,
     'desensitized': -0.21553443174575015,
     'retentive': 0.8273279013338428,
     'privately': 0.09130636013002902,
     'nivola': 0.5281050114833017,
     'typical': 3.901764283070457,
     'complaint': 2.887919257453416,
     'batch': 1.0193025349785163,
     'necroplasmic': -1.9357817128300738,
     'schooling': 0.7160271388524184,
     'tricia': -0.2021324311015429,
     'douglas': 4.106317790524874,
     'roused': -0.383519747526756,
     'chance': 0.7982702041793344,
     'lowly': 1.8253264528348239,
     'that': 3.1123501543427463,
     'humidity': 0.9799451526370999,
     'sideshow': 0.5673045726012025,
     'comedic': -3.8225164468653556,
     'charles': 1.4822377995854366,
     'kinetic': -0.1339192276331056,
     'weiss': 0.4938582614996103,
     'lila': -0.7949269868796827,
     'reply': -1.253342009108361,
     'lemonade': -0.040035561660859864,
     'himselfs': -0.7743741871388361,
     'shooter': -0.4803932742144086,
     'lynchian': 0.9765977256978653,
     'underage': -0.8767344057191924,
     'uuuhmm': 0.6298629390643518,
     'drifter': 0.670477087932343,
     'portal': -0.36545963526499525,
     'jane': 0.5171212549601172,
     'souvenir': 0.658571718150387,
     'avoided': -0.5369565995497909,
     'whippersnappers': -0.17378236070503728,
     'braeden': -0.22627951327526485,
     'sevigny': -0.40227001473363333,
     'bresson': -0.6575963291351916,
     'canaan': -1.9621410033628928,
     'toupee': -0.4630234837422449,
     'fabrice': -0.6965357046758671,
     'messiah': 0.5426710412375184,
     'burly': -0.6577451637185594,
     'transformations': 0.7958073359242859,
     'titan': -0.7122060653128788,
     'blueblood': -0.6554723666181548,
     'eduard': 0.38761650801805914,
     'concealed': -0.8543736895744016,
     ';': 5.973873526669571,
     'splattered': 0.7460079141738996,
     'personalizes': -0.5468073535994984,
     'prostrate': -0.026428897143128793,
     'speechless': 0.5035973968111065,
     'vivaldi': 0.4181240900094183,
     'priorities': 0.4920031218510579,
     'spielbergian': 0.2973474126223208,
     'king': -3.011128201168245,
     'sleeve': -0.3056613026370958,
     'kitsch': 0.6932710638803066,
     'embody': -0.7544628585850712,
     'television': 0.5576737050075837,
     'prepped': 0.4650780700937822,
     'potente': -0.7904245265586642,
     'powder': 1.8149248485082068,
     'channel': -0.3841177904629074,
     'garbageman': -0.7726332947856043,
     'area': -0.6672565786193347,
     'criticizing': -1.5015741297932546,
     'applauded': 0.1422969644497729,
     'absurdity': -0.6723690607913362,
     'jettisoned': 0.4658883132778009,
     'ninja': 0.7371429024038121,
     'october': 0.48917637755719134,
     'risky': 0.561539903171278,
     'feelin': -0.7141804408863828,
     'lighter': 1.3512570940576187,
     'patty': 0.5090342897431799,
     'salle': -0.6578546075740994,
     'prying': 0.7718090179585784,
     'dredd': 0.5973126910298221,
     'po': -0.653014655378845,
     'telecommunications': 0.7454892498146464,
     'exclusivity': 0.704088226196202,
     'speech': 2.636672589214812,
     'milk': 0.827057556039263,
     'hutt': 0.35967380738106947,
     'jacques': 2.4203633846619903,
     'heer': 0.5561333174991794,
     'greeted': -0.7045760318309913,
     'diverse': 2.788606983976659,
     'deadening': -0.011098113822304967,
     'blink': -0.03498401831163411,
     'diane': -0.6784150910651372,
     'whaley': -0.8532182321508495,
     'u': -2.9542726087266145,
     'schulman': -0.0007126267464181435,
     'agape': 0.22412647462808066,
     'seams': 0.27443781574835846,
     'unexpressed': 0.3942335015261915,
     'offensive': -3.393309455148142,
     'inebriation': -0.6166244800442662,
     'instructs': 0.9774687073456347,
     'betty': -0.2993099247926616,
     'milieu': -0.5336563081573364,
     'adaptation': -3.966523951798159,
     'reminisces': -0.5603596826956916,
     'blandness': -0.9209280826329853,
     'groucho': -0.8721667966180051,
     'deemed': -1.2014101994611182,
     'cuz': -0.927402550506037,
     'friendship': 0.0845508579849128,
     'brigette': 0.7277474967288329,
     'eilbacher': 0.9515529345697868,
     'invulnerable': 0.92273366389262,
     'fortenberry': -0.6648417206441759,
     'fincher': -0.9420746273247951,
     'bankole': -0.2291806202941571,
     'yuelin': 0.8415060978200488,
     'ol': -0.6249554737846454,
     'upstairs': -0.2553730981135065,
     'contractions': -0.9397923676546032,
     'nation': 1.5392678607761887,
     'guang': -0.4735439707459008,
     'snore': 0.9445372190139076,
     'burkettsville': 0.6575686902090292,
     'shocked': 0.5643456477751252,
     'lombardo': 0.24991234201691515,
     '29': -0.24938869202349,
     'glorify': 0.00407042805429203,
     'beckoned': -1.2517632145256619,
     'gast': -0.33720446109959656,
     'snag': -1.86959987752383,
     'haughtiness': -1.5325690518853552,
     ...}



Challenge 2:
Write a program which tests/evaluates your algorithm. You will need to use
the test set to make predictions, and then calculate the accuracy (i.e. the
percentage of correct predictions).

To streamline this process, write another function which iterates
through all the instances in the test set and returns (or prints all the
predictions)

Finally, calculate the accuracy.


```python
len_reviews = len(reviews)
train_size = math.ceil(len_reviews*0.75)
test_size = len_reviews - train_size

train_index = random.sample(range(len_reviews), train_size)
test_index = list(set(range(len_reviews)) - set(train_index))
```


```python
train = [reviews[i] for i in train_index]
test = [reviews[i] for i in test_index]
```


```python
trained_weights = train_perceptron(train, 5)
```


```python
def predict_all(weights, reviews):
    predicted_labels = []
    for review, label in reviews:
        features = create_features(review)
        predicted_label = predict_one(weights, features)
        predicted_labels.append(predicted_label)
    return predicted_labels
```


```python
predicted_labels = predict_all(trained_weights, test)
actual_labels = [label for review, label in test]
```


```python
n_correct = sum([predicted_labels[i] == actual_labels[i] for i in range(test_size)])
n_correct/test_size
```




    0.96


